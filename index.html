<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Gestión Tienda de Comida</title>
    <link rel="stylesheet" href="styles.css">
</head>
<body>
    <div class="container">
        <header>
            <h1>MI Compa</h1>
            <p class="description">Sistema de gestion de negocios locales</p>
            <div class="global-actions">
                <button class="btn btn-secondary" id="btn-reset">
                    <svg class="icon" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                        <path d="M23 4v6h-6M1 20v-6h6M3.51 9a9 9 0 0 1 14.85-3.36L23 10M1 14l4.64 4.36A9 9 0 0 0 20.49 15"/>
                    </svg>
                    <span class="hide-on-mobile">Reiniciar</span>
                </button>
                <button class="btn btn-secondary" id="btn-export">
                    <svg class="icon" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                        <path d="M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4M17 8l-5-5-5 5M12 3v12"/>
                    </svg>
                    <span class="hide-on-mobile">Exportar</span>
                </button>
                <button class="btn btn-secondary" id="btn-import">
                    <svg class="icon" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                        <path d="M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4M7 10l5 5 5-5M12 15V3"/>
                    </svg>
                    <span class="hide-on-mobile">Importar</span>
                </button>
            </div>
        </header>

        <div class="tabs">
            <div class="tab active" data-tab="productos">
                <svg class="icon" width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                    <path d="M20 7l-8-4-8 4m16 0l-8 4m8-4v10l-8 4m0-10L4 7m8 4v10M4 7v10l8 4"/>
                </svg>
                <span class="hide-on-mobile">Productos</span>
            </div>
            <div class="tab" data-tab="pedidos">
                <svg class="icon" width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                    <path d="M6 2L3 6v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V6l-3-4zM3 6h18m-5 4a4 4 0 1 1-8 0"/>
                </svg>
                <span class="hide-on-mobile">Pedidos</span>
            </div>
            <div class="tab" data-tab="estadisticas">
                <svg class="icon" width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                    <path d="M12 20v-6M18 20V10M6 20v-6"/>
                </svg>
                <span class="hide-on-mobile">Estadísticas</span>
            </div>
        </div>

        <div id="alert" class="alert"></div>

        <!-- Sección de Productos -->
        <div id="productos" class="tab-content active">
            <div class="section-header">
                <h2 class="section-title">Productos</h2>
                <button class="btn btn-primary" id="btn-add-product">
                    <svg class="icon" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                        <path d="M12 5v14m-7-7h14"/>
                    </svg>
                    <span class="hide-on-mobile">Añadir</span>
                </button>
            </div>

            <div class="card">
                <h3>Lista de Productos</h3>
                <div class="table-container">
                    <table id="tabla-productos">
                        <thead>
                            <tr>
                                <th>Nombre</th>
                                <th>Tipo</th>
                                <th>Precio</th>
                                <th class="hide-on-mobile">Cantidad</th>
                                <th>Acciones</th>
                            </tr>
                        </thead>
                        <tbody id="lista-productos">
                            <!-- Los productos se cargarán aquí dinámicamente -->
                        </tbody>
                    </table>
                </div>
                <div id="empty-products" class="empty-state">
                    <svg class="icon" width="48" height="48" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5">
                        <path d="M20 7l-8-4-8 4m16 0l-8 4m8-4v10l-8 4m0-10L4 7m8 4v10M4 7v10l8 4"/>
                    </svg>
                    <p>No hay productos</p>
                    <button class="btn btn-primary" id="btn-add-first-product" style="margin-top: 10px;">
                        <svg class="icon" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                            <path d="M12 5v14m-7-7h14"/>
                        </svg>
                        Añadir Producto
                    </button>
                </div>
            </div>
        </div>

        <!-- Sección de Pedidos -->
        <div id="pedidos" class="tab-content">
            <div class="section-header">
                <h2 class="section-title">Pedidos</h2>
                <button class="btn btn-primary" id="btn-add-order">
                    <svg class="icon" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                        <path d="M12 5v14m-7-7h14"/>
                    </svg>
                    <span class="hide-on-mobile">Nuevo</span>
                </button>
            </div>

            <div class="card">
                <h3>Historial de Pedidos</h3>
                <div class="table-container">
                    <table id="tabla-pedidos">
                        <thead>
                            <tr>
                                <th>ID</th>
                                <th class="hide-on-mobile">Fecha</th>
                                <th>Productos</th>
                                <th>Total</th>
                                <th>Acciones</th>
                            </tr>
                        </thead>
                        <tbody id="lista-pedidos">
                            <!-- Los pedidos se cargarán aquí dinámicamente -->
                        </tbody>
                    </table>
                </div>
                <div id="empty-orders" class="empty-state">
                    <svg class="icon" width="48" height="48" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5">
                        <path d="M6 2L3 6v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V6l-3-4zM3 6h18m-5 4a4 4 0 1 1-8 0"/>
                    </svg>
                    <p>No hay pedidos</p>
                    <button class="btn btn-primary" id="btn-add-first-order" style="margin-top: 10px;">
                        <svg class="icon" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                            <path d="M12 5v14m-7-7h14"/>
                        </svg>
                        Crear Pedido
                    </button>
                </div>
            </div>
        </div>

        <!-- Sección de Estadísticas -->
        <div id="estadisticas" class="tab-content">
            <div class="section-header">
                <h2 class="section-title">Estadísticas</h2>
            </div>

            <div class="stats-grid">
                <div class="stat-card">
                    <div class="stat-label">Productos</div>
                    <div class="stat-value" id="total-productos">0</div>
                </div>
                <div class="stat-card">
                    <div class="stat-label">Pedidos</div>
                    <div class="stat-value" id="total-pedidos">0</div>
                </div>
                <div class="stat-card">
                    <div class="stat-label">Ingresos</div>
                    <div class="stat-value text-sm" id="ingresos-totales">0 CUP</div>
                </div>
                <div class="stat-card">
                    <div class="stat-label">Valor Inv.</div>
                    <div class="stat-value text-sm" id="valor-inventario">0 CUP</div>
                </div>
            </div>

            <div class="card">
                <h3>Productos Más Vendidos</h3>
                <div class="table-container">
                    <table id="tabla-populares">
                        <thead>
                            <tr>
                                <th>Producto</th>
                                <th>Vendidos</th>
                                <th>Ingresos</th>
                            </tr>
                        </thead>
                        <tbody id="lista-populares">
                            <!-- Los productos populares se cargarán aquí -->
                        </tbody>
                    </table>
                </div>
                <div id="empty-stats" class="empty-state">
                    <svg class="icon" width="48" height="48" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5">
                        <path d="M12 20v-6M18 20V10M6 20v-6"/>
                    </svg>
                    <p>Sin datos</p>
                </div>
            </div>

            <div class="card">
                <h3>Estado del Inventario</h3>
                <div class="table-container">
                    <table id="tabla-inventario">
                        <thead>
                            <tr>
                                <th>Producto</th>
                                <th class="hide-on-mobile">Tipo</th>
                                <th>Stock</th>
                                <th class="hide-on-mobile">%</th>
                                <th>Valor</th>
                            </tr>
                        </thead>
                        <tbody id="lista-inventario">
                            <!-- El inventario se cargará aquí -->
                        </tbody>
                    </table>
                </div>
            </div>
        </div>
    </div>

    <!-- Botón flotante para móviles -->
    <button class="btn btn-primary btn-float" id="btn-float-add">
        <svg class="icon" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
            <path d="M12 5v14m-7-7h14"/>
        </svg>
    </button>

    <!-- Modal para añadir producto -->
    <div class="modal" id="modal-producto">
        <div class="modal-content">
            <div class="modal-header">
                <h3 class="modal-title">Añadir Producto</h3>
                <button class="modal-close" id="close-modal-producto">
                    <svg class="icon" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                        <path d="M18 6L6 18M6 6l12 12"/>
                    </svg>
                </button>
            </div>
            <div class="modal-body">
                <form id="form-producto">
                    <div class="form-group">
                        <label for="nombre">Nombre</label>
                        <input type="text" id="nombre" required>
                    </div>
                    <div class="form-group">
                        <label for="tipo-unidad">Tipo</label>
                        <select id="tipo-unidad" required>
                            <option value="">Seleccione...</option>
                            <option value="unidades">Unidades</option>
                            <option value="libras">Libras</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <label for="precio">Precio (CUP)</label>
                        <input type="number" id="precio" min="0" step="0.01" required>
                    </div>
                    <div class="form-group">
                        <label for="cantidad">Cantidad Inicial</label>
                        <input type="number" id="cantidad" min="0" step="0.01" required>
                    </div>
                </form>
            </div>
            <div class="modal-footer">
                <button class="btn btn-secondary" id="cancel-modal-producto">Cancelar</button>
                <button class="btn btn-primary" id="save-producto">Guardar</button>
            </div>
        </div>
    </div>

    <!-- Modal para editar producto -->
    <div class="modal" id="modal-editar-producto">
        <div class="modal-content">
            <div class="modal-header">
                <h3 class="modal-title">Editar Producto</h3>
                <button class="modal-close" id="close-modal-editar">
                    <svg class="icon" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                        <path d="M18 6L6 18M6 6l12 12"/>
                    </svg>
                </button>
            </div>
            <div class="modal-body">
                <form id="form-editar-producto">
                    <div class="form-group">
                        <label for="edit-nombre">Nombre</label>
                        <input type="text" id="edit-nombre" required>
                    </div>
                    <div class="form-group">
                        <label for="edit-tipo-unidad">Tipo</label>
                        <select id="edit-tipo-unidad" required>
                            <option value="">Seleccione...</option>
                            <option value="unidades">Unidades</option>
                            <option value="libras">Libras</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <label for="edit-precio">Precio (CUP)</label>
                        <input type="number" id="edit-precio" min="0" step="0.01" required>
                    </div>
                    <div class="form-group">
                        <label for="edit-cantidad">Cantidad Actual</label>
                        <input type="number" id="edit-cantidad" min="0" step="0.01" required>
                    </div>
                    <div class="form-group">
                        <label for="edit-cantidad-original">Cantidad Original (Stock inicial)</label>
                        <input type="number" id="edit-cantidad-original" min="0" step="0.01" required>
                    </div>
                </form>
            </div>
            <div class="modal-footer">
                <button class="btn btn-secondary" id="cancel-modal-editar">Cancelar</button>
                <button class="btn btn-primary" id="save-editar-producto">Guardar Cambios</button>
            </div>
        </div>
    </div>

    <!-- Modal para añadir pedido -->
    <div class="modal" id="modal-pedido">
        <div class="modal-content">
            <div class="modal-header">
                <h3 class="modal-title">Nuevo Pedido</h3>
                <button class="modal-close" id="close-modal-pedido">
                    <svg class="icon" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                        <path d="M18 6L6 18M6 6l12 12"/>
                    </svg>
                </button>
            </div>
            <div class="modal-body">
                <form id="form-pedido">
                    <div class="form-group">
                        <label for="producto-pedido">Producto</label>
                        <select id="producto-pedido" required>
                            <option value="">Seleccione...</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <label for="cantidad-pedido">Cantidad</label>
                        <input type="number" id="cantidad-pedido" min="0" step="0.01" required>
                    </div>
                    <button type="submit" class="btn btn-primary" style="width: 100%; margin-top: 8px;">
                        <svg class="icon" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                            <path d="M12 5v14m-7-7h14"/>
                        </svg>
                        Añadir
                    </button>
                </form>

                <div class="order-summary">
                    <h3>Resumen</h3>
                    <div id="items-pedido">
                        <!-- Los items del pedido se mostrarán aquí -->
                    </div>
                    <div class="order-total" id="total-pedido">Total: 0.00 CUP</div>
                </div>
            </div>
            <div class="modal-footer">
                <button class="btn btn-secondary" id="cancel-modal-pedido">Cancelar</button>
                <button class="btn btn-primary" id="finalizar-pedido">Finalizar</button>
            </div>
        </div>
    </div>

    <!-- Modal para ver detalles del pedido -->
    <div class="modal" id="modal-detalle-pedido">
        <div class="modal-content">
            <div class="modal-header">
                <h3 class="modal-title">Detalles Pedido</h3>
                <button class="modal-close" id="close-modal-detalle">
                    <svg class="icon" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                        <path d="M18 6L6 18M6 6l12 12"/>
                    </svg>
                </button>
            </div>
            <div class="modal-body">
                <div id="detalle-pedido-contenido">
                    <!-- Los detalles del pedido se cargarán aquí -->
                </div>
            </div>
            <div class="modal-footer">
                <button class="btn btn-secondary" id="close-detalle">Cerrar</button>
            </div>
        </div>
    </div>

    <script src="app.js"></script>
</body>
</html>
